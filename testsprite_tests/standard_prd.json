{
  "meta": {
    "project": "B2B Fashion SaaS â€” Image-to-Video Catalogue + Trend Analyzer",
    "date": "2025-11-04",
    "prepared_by": "Generated by AI based on provided PRD and Code Summary"
  },
  "product_overview": "A premium B2B SaaS platform that enables fashion retailers and bulk buyers to upload dress images and automatically generate AI-driven photorealistic model showcases including still images, video clips, and runway videos. Additionally, it provides a real-time Trend Analyzer with rich data visualizations and predictive insights on fashion trends to support informed buying decisions and inventory planning.",
  "core_goals": [
    "Reduce cost and time of physical photoshoots by automating model showcase generation",
    "Provide actionable real-time fashion trend insights across demographics, seasons, and regions",
    "Enable bulk catalogue generation and streamlined export workflows for large inventories",
    "Support data-driven purchase decisions through integrated video content and trend analytics",
    "Deliver a scalable, secure, and user-friendly SaaS experience for fashion business users"
  ],
  "key_features": [
    "Image Upload & Catalogue Generator with drag-and-drop, batch upload (up to 200 images), client-side validation, file format support (JPEG, PNG, WEBP, HEIC), and resumable uploads",
    "AI-powered generation pipeline producing photorealistic 3D model stills (3-5 per design), 15-second video clips, and 30-second runway videos",
    "Job queuing, progress monitoring, retry and cancellation options with estimated time-to-completion",
    "Comprehensive output preview with multi-angle toggles, metadata badges (market appeal score, style compatibility, body diversity), and inline metadata editing",
    "Bulk export options supporting ZIP export with structured folders and CSV/JSON metadata",
    "Trend Analyzer dashboard with filters (age group, season, category, region), interactive visualizations (trending carousel, demographic charts, heatmaps, time-series, YoY comparisons)",
    "Machine learning-driven predictive insights with confidence scores and recommended actions",
    "Watchlists and alerting via email/Slack for trend velocity changes",
    "Role-based access control and GDPR/CCPA compliance with secure file scanning and audit logging",
    "API endpoints for catalogue generation, job status, trend data, and programmatic asset access with caching, rate limiting, and concurrency controls"
  ],
  "user_flow_summary": [
    "Quick Catalogue Generation: User uploads a dress image, selects model presets, outputs desired asset package, submits job, monitors progress, previews generated assets, and exports final catalogue items.",
    "Bulk Catalogue Creation: User batch uploads up to 200 images, queues multiple generation jobs, tracks job progress in a panel, edits metadata inline, and performs bulk export of images, videos, and metadata.",
    "Trend Exploration: User opens Trend Analyzer, applies filters (season, age group, category, region, date range), reviews top trending dress types, drills down into specific trends for regional and historical insights, pins trends to watchlist, and configures alerts for trend changes.",
    "Purchase Decision Support: User leverages generated videos and trend scores to short-list products and shares selections with procurement teams for bulk orders."
  ],
  "validation_criteria": [
    "Catalogue generation jobs are accepted with valid image formats and presets, and return job IDs for tracking",
    "System supports resumable uploads and batch uploads up to 200 images with file size and format validation",
    "Generated assets include photorealistic model stills, clips, runway videos with multi-angle views and metadata badges",
    "Trend Analyzer provides accurate, filterable, and timestamped trend data consistent with Google Trends and social listening sources",
    "Role-based access controls restrict unauthorized access and enforce GDPR/CCPA compliance in data handling",
    "Exported ZIP files contain correctly structured images, videos, and metadata CSV/JSON files",
    "API endpoints respond within SLAs and implement rate limiting, caching, and deduplication for efficiency",
    "System gracefully handles errors such as upload failures, generation timeouts, and missing trend data with user notifications and fallback options"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Node.js",
      "Express",
      "React",
      "Vite",
      "PostgreSQL",
      "Redis",
      "Bull",
      "Multer",
      "Sharp",
      "Axios",
      "Zod",
      "TailwindCSS"
    ],
    "features": [
      {
        "name": "Health Check API",
        "description": "Check API health status and uptime",
        "files": [
          "backend/src/routes/health.routes.ts",
          "backend/src/server.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Health Check API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/health": {
              "get": {
                "summary": "Check API health status",
                "responses": {
                  "200": {
                    "description": "OK",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "status": {
                              "type": "string",
                              "example": "ok"
                            },
                            "timestamp": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "uptime": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Catalogue Generator API",
        "description": "Upload dress images and generate AI model showcases with video generation",
        "files": [
          "backend/src/routes/catalogue.routes.ts",
          "backend/src/controllers/catalogue.controller.ts",
          "backend/src/services/catalogue.service.ts",
          "backend/src/queues/videoGeneration.queue.ts",
          "backend/src/processors/videoGeneration.processor.ts",
          "backend/src/services/aiVideo.service.ts",
          "backend/src/services/fileStorage.service.ts",
          "backend/src/middleware/validateUpload.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Catalogue Generator API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/catalogue/generate": {
              "post": {
                "summary": "Upload dress images and generate AI model showcases",
                "requestBody": {
                  "content": {
                    "multipart/form-data": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "images": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "format": "binary"
                            },
                            "maxItems": 10
                          }
                        },
                        "required": [
                          "images"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "202": {
                    "description": "Accepted",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "jobId": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string",
                              "example": "processing"
                            },
                            "message": {
                              "type": "string"
                            },
                            "estimatedTime": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "400": {
                    "description": "Bad Request"
                  },
                  "429": {
                    "description": "Too Many Requests"
                  }
                }
              }
            },
            "/api/catalogue/status/{jobId}": {
              "get": {
                "summary": "Get status of catalogue generation job",
                "parameters": [
                  {
                    "name": "jobId",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "OK",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "jobId": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "processing",
                                "completed",
                                "failed",
                                "cancelled"
                              ]
                            },
                            "progress": {
                              "type": "number"
                            },
                            "items": {
                              "type": "array",
                              "items": {
                                "type": "object"
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "404": {
                    "description": "Not Found"
                  }
                }
              }
            },
            "/api/catalogue/download/{itemId}": {
              "get": {
                "summary": "Download a catalogue item",
                "parameters": [
                  {
                    "name": "itemId",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "OK",
                    "content": {
                      "application/octet-stream": {}
                    }
                  },
                  "404": {
                    "description": "Not Found"
                  }
                }
              }
            },
            "/api/catalogue/jobs/{userId}": {
              "get": {
                "summary": "Get list of user's catalogue generation jobs",
                "parameters": [
                  {
                    "name": "userId",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "schema": {
                      "type": "integer",
                      "default": 1
                    }
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "schema": {
                      "type": "integer",
                      "default": 10
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "OK",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "jobs": {
                              "type": "array",
                              "items": {
                                "type": "object"
                              }
                            },
                            "pagination": {
                              "type": "object"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/catalogue/jobs/{jobId}": {
              "delete": {
                "summary": "Cancel a processing job",
                "parameters": [
                  {
                    "name": "jobId",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "OK"
                  },
                  "404": {
                    "description": "Not Found"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Trend Analyzer API",
        "description": "Get fashion trend data with filters for age group, season, category, and time range",
        "files": [
          "backend/src/routes/trends.routes.ts",
          "backend/src/controllers/trends.controller.ts",
          "backend/src/services/trends.service.ts",
          "backend/src/clients/trendsApi.client.ts",
          "backend/src/middleware/validateTrendFilters.ts",
          "backend/src/services/cache.service.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Trend Analyzer API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/trends": {
              "get": {
                "summary": "Get trend data with optional filters",
                "parameters": [
                  {
                    "name": "ageGroup",
                    "in": "query",
                    "schema": {
                      "type": "string",
                      "enum": [
                        "18-25",
                        "26-35",
                        "36-50",
                        "50+"
                      ]
                    }
                  },
                  {
                    "name": "season",
                    "in": "query",
                    "schema": {
                      "type": "string",
                      "enum": [
                        "spring",
                        "summer",
                        "fall",
                        "winter"
                      ]
                    }
                  },
                  {
                    "name": "category",
                    "in": "query",
                    "schema": {
                      "type": "string"
                    }
                  },
                  {
                    "name": "timeRange",
                    "in": "query",
                    "schema": {
                      "type": "string",
                      "enum": [
                        "30days",
                        "90days",
                        "1year"
                      ],
                      "default": "30days"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "OK",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "topTrendingStyle": {
                              "type": "string"
                            },
                            "yoyGrowth": {
                              "type": "number"
                            },
                            "lastUpdated": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "trendingTypes": {
                              "type": "array"
                            },
                            "ageDemographics": {
                              "type": "array"
                            },
                            "timeSeriesData": {
                              "type": "array"
                            },
                            "seasonalTrends": {
                              "type": "array"
                            },
                            "categories": {
                              "type": "array"
                            },
                            "predictiveInsights": {
                              "type": "array"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/api/trends/{trendId}": {
              "get": {
                "summary": "Get detailed trend information for a specific trend",
                "parameters": [
                  {
                    "name": "trendId",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "OK"
                  },
                  "404": {
                    "description": "Not Found"
                  }
                }
              }
            },
            "/api/trends/categories/list": {
              "get": {
                "summary": "Get list of available dress categories",
                "responses": {
                  "200": {
                    "description": "OK",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
